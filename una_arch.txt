=== TREE ===
.:
.
..
amber_bytes
.cargo
Cargo.toml
gneiss_pal
midden
rust-toolchain.toml
sledge
stria
una_cache.txt
unaos
vein
vug
x86_64-unaos.json

./amber_bytes:
.
..
Cargo.backup
Cargo.lock
Cargo.toml
evidence.txt
.gitignore
secret.txt
src

./amber_bytes/src:
.
..
main.rs

./.cargo:
.
..
config.toml

./gneiss_pal:
.
..
arroyo
Cargo.lock
Cargo.toml
.gitignore
gpo
libs
LICENSE
README.md
src

./gneiss_pal/gpo:
.
..
core
mac
win
x

./gneiss_pal/gpo/core:
.
..
Cargo.toml
src

./gneiss_pal/gpo/core/src:
.
..
lib.rs

./gneiss_pal/gpo/mac:
.
..
Cargo.toml
src

./gneiss_pal/gpo/mac/src:
.
..
main.rs

./gneiss_pal/gpo/win:
.
..
Cargo.toml
src

./gneiss_pal/gpo/win/src:
.
..
main.rs

./gneiss_pal/gpo/x:
.
..
gtk
gtk_pvp
qt

./gneiss_pal/gpo/x/gtk:
.
..
Cargo.toml
src

./gneiss_pal/gpo/x/gtk/src:
.
..
main.rs

./gneiss_pal/gpo/x/gtk_pvp:
.
..
Cargo.toml
src

./gneiss_pal/gpo/x/gtk_pvp/src:
.
..
main.rs

./gneiss_pal/gpo/x/qt:
.
..
build.rs
Cargo.toml
.qmlls.ini
src

./gneiss_pal/gpo/x/qt/src:
.
..
bridge.rs
main.rs

./gneiss_pal/libs:
.
..
gneiss_pal

./gneiss_pal/libs/gneiss_pal:
.
..
Cargo.toml
examples
src

./gneiss_pal/libs/gneiss_pal/examples:
.
..
moonstone_check.rs

./gneiss_pal/libs/gneiss_pal/src:
.
..
host.rs
lib.rs

./gneiss_pal/src:
.
..
backend.rs
lib.rs

./midden:
.
..
Cargo.lock
Cargo.toml
.gitignore
LICENSE
midden_pile.json
README.md
src

./midden/src:
.
..
brain.rs
indexer.rs
lib.rs
main.rs
modes
pile.rs
shell.rs

./midden/src/modes:
.
..
advanced.rs
beginner.rs
intermediate.rs
mod.rs

./sledge:
.
..
Cargo.toml
src

./sledge/src:
.
..
main.rs

./stria:
.
..
Cargo.toml
.gitignore
src

./stria/src:
.
..
engine
main.rs
ui.rs

./stria/src/engine:
.
..
mod.rs

./unaos:
.
..
arroyo
builder
Cargo.lock
Cargo.toml
COPYING.LESSER
crates
CREDITS.md
docs
.gitignore
launch.sh
libs
LICENSE
README.md
scripts
sledge.sh
x86_64-unaos.json
x86_64-unknown-none.json

./unaos/builder:
.
..
bios.img
Cargo.lock
Cargo.toml
src
usb.img

./unaos/builder/src:
.
..
main.rs

./unaos/crates:
.
..
compat
kernel
loader
userspace

./unaos/crates/compat:
.
..
Cargo.toml
src

./unaos/crates/compat/src:
.
..
lib.rs

./unaos/crates/kernel:
.
..
.cargo
Cargo.lock
Cargo.toml
src

./unaos/crates/kernel/.cargo:
.
..
config.toml

./unaos/crates/kernel/src:
.
..
allocator.rs
console.rs
events.rs
gdt.rs
interrupts.rs
lib.rs
main.rs
memory.rs
pal.rs
pci.rs
serial.rs
shell.rs
user.rs
vug.rs
writer.rs
xhci
xhci.rs

./unaos/crates/kernel/src/xhci:
.
..
context.rs
event.rs
ring.rs
trb.rs

./unaos/crates/loader:
.
..
Cargo.toml
src

./unaos/crates/loader/src:
.
..
crystal.rs
font.rs
graphics.rs
main.rs

./unaos/crates/userspace:
.
..
Cargo.toml
src

./unaos/crates/userspace/src:
.
..
main.rs

./unaos/docs:
.
..
dev
DEVELOPER_GUIDE.md
eggs
MANIFESTO
shorts

./unaos/docs/dev:
.
..
OS

./unaos/docs/dev/OS:
.
..
01_BOOT_HAL
02_KERNEL_CORE
03_COMPATIBILITY_BOX
04_SECURITY_IMMUNITY
05_USER_EXPERIENCE

./unaos/docs/dev/OS/01_BOOT_HAL:
.
..
arch_arm64.md
arch_x86_64.md
bootloader_spec.md

./unaos/docs/dev/OS/02_KERNEL_CORE:
.
..
ipc_design.md
memory_model.md
scheduler.md

./unaos/docs/dev/OS/03_COMPATIBILITY_BOX:
.
..
blackbox_theory.md
graphics_passthrough.md
syscall_translation.md

./unaos/docs/dev/OS/04_SECURITY_IMMUNITY:
.
..
intrusion_detection.md
permission_model.md

./unaos/docs/dev/OS/05_USER_EXPERIENCE:
.
..
shell_philosophy.md
ui_guidelines.md

./unaos/docs/eggs:
.
..
KEY_FRAGMENT.nfo
README.md

./unaos/docs/MANIFESTO:
.
..
AD_ASTRA_PER_ASPERA.md
ARCHITECTURAL_CONTEXT.md
CLEAN_ROOM_POLICY.md
ETHOS.md
GPL.md
HELLO_WORLD.md
LEGAL_STANCE.md
LGPL.md
THE_RUST_DECISION.md

./unaos/docs/shorts:
.
..
79342.5-Undiscovered_Logic.md
README.md

./unaos/libs:
.
..

./unaos/scripts:
.
..
run.sh
run_uefi.sh

./vein:
.
..
Cargo.toml
src

./vein/src:
.
..
main.rs

./vug:
.
..
Cargo.toml
src

./vug/src:
.
..
main.rs

=== ROOT CARGO ===
[workspace]
resolver = "2"
members = [
    "unaos/crates/kernel",
    "unaos/builder",
    "stria",
    "gneiss_pal",
    "midden",
    "amber_bytes",
    "vug",
    "sledge",
    "vein"
]

# FIX: Force abort on panic for ALL profiles to avoid "unwinding" errors
[profile.dev]
panic = "abort"

[profile.release]
panic = "abort"
lto = true
strip = true
codegen-units = 1

=== KERNEL CARGO ===
[package]
name = "unaos-kernel"
version = "0.1.0"
edition = "2021"

[dependencies]
# CORE
bootloader = "0.9.23"
serde = { version = "1.0", default-features = false, features = ["derive"] }

# FIX: Use 'spin_no_std' to explicitly disable Standard Library usage
lazy_static = { version = "=1.4.0", features = ["spin_no_std"] }

# HARDWARE
spin = "0.9"
volatile = "0.2"
x86_64 = "0.14"
uart_16550 = "0.2"
pic8259 = "0.10"
pc-keyboard = "0.7"
linked_list_allocator = "0.10"

# INTERNAL
gneiss_pal = { path = "../../../gneiss_pal", default-features = false }


